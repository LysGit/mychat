(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/cosmos/index"],{"09a1":function(t,o,s){"use strict";s.r(o);var e=s("fbb8"),i=s.n(e);for(var n in e)"default"!==n&&function(t){s.d(o,t,(function(){return e[t]}))}(n);o["default"]=i.a},2395:function(t,o,s){"use strict";s.r(o);var e=s("e9fd"),i=s("09a1");for(var n in i)"default"!==n&&function(t){s.d(o,t,(function(){return i[t]}))}(n);s("7cbf");var r,a=s("f0c5"),c=s("94fd"),u=Object(a["a"])(i["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],r);"function"===typeof c["a"]&&Object(c["a"])(u),o["default"]=u.exports},"6d8e":function(t,o,s){},"7cbf":function(t,o,s){"use strict";var e=s("6d8e"),i=s.n(e);i.a},"94fd":function(t,o,s){"use strict";var e=function(t){t.options.wxsCallMethods||(t.options.wxsCallMethods=[]),t.options.wxsCallMethods.push("cosmosTrigger")};o["a"]=e},a22f:function(t,o,s){"use strict";(function(t){s("aff0"),s("921b");e(s("66fd"));var o=e(s("2395"));function e(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,s("543d")["createPage"])},e9fd:function(t,o,s){"use strict";var e,i=function(){var t=this,o=t.$createElement,s=(t._self._c,t.__map(t.cosmosList,(function(o,s){var e=t.$common.timeToDate(o.createtime);return{$orig:t.__get_orig(o),g0:e}})));t._isMounted||(t.e0=function(o){return t.$common.errorToShow("点击了推荐userOpenuserOpen")}),t.$mp.data=Object.assign({},{$root:{l0:s}})},n=[];s.d(o,"b",(function(){return i})),s.d(o,"c",(function(){return n})),s.d(o,"a",(function(){return e}))},fbb8:function(t,o,s){"use strict";(function(t){function s(t){return n(t)||i(t)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(t){if(Array.isArray(t)){for(var o=0,s=new Array(t.length);o<t.length;o++)s[o]=t[o];return s}}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var r={data:function(){return{moreData:{show:!1,type:"cosmos",id:0},modalName:null,base:{avatar:this.$config.avatar,CustomBar:this.CustomBar,title:this.$config.title},operate:{id:1},preview:{list:["https://image.aishencn.com/2020/03/17/095817937_81909778-bbs.jpg"],show:!1,index:0},cosmos:{scrollTop:0,propValue:!0,loadMore:!1},cosmosList:[],tabScroll:0,currentTab:0,tabScrollItem:0,currentTabItem:0}},onLoad:function(){console.log("onLoad~")},created:function(){console.log("this.cosmosList.length",this.cosmosList.length),0==this.cosmosList.length&&(this.cosmosGetList(),console.log("created??"))},methods:{like:function(t){var o=this;this.cosmosList[t].isLike=!this.cosmosList[t].isLike,this.$api.cosmosLike({pid:this.cosmosList[t].id},(function(s){s.code&&(o.cosmosList[t].isLike=s.data,s.data?o.cosmosList[t].likes++:o.cosmosList[t].likes--)}))},userOpen:function(o){this.$db.set("user",this.cosmosList[o]),t.navigateTo({url:"/pages/user/index"})},previews:function(t,o){this.preview.index=o,this.preview.list=t,this.preview.show=!this.preview.show},puls:function(){t.navigateTo({url:"/pages/cosmos/push"})},cosmosMoreOperate:function(t){this.moreData.show=!this.moreData.show},cosmosGetList:function(t){var o=this;this.$api.getCosmosList({id:t},(function(t){t.code&&(o.cosmosList=[].concat(s(o.cosmosList),s(t.data)),o.cosmos.loadMore=!0)}))},cosmosOpen:function(o){this.$db.set("cosmos",this.cosmosList[o]),t.navigateTo({url:"/pages/cosmos/details?id="+this.operate.id})},cosmosTrigger:function(o){var s=this;switch(o){case 0:break;case 1:this.$api.getCosmosList({},(function(t){t.code?(s.cosmosList=t.data,s.cosmos.propValue=!s.cosmos.propValue):s.$common.errorToShow("空空如也")}));break;case 2:var e=t.createSelectorQuery().in(this);e.select("#more-text").boundingClientRect((function(t){t.top<1500&&s.cosmos.loadMore&&(s.cosmos.loadMore=!1,s.cosmosGetList(s.cosmosList.length?s.cosmosList[s.cosmosList.length-1].id:0))})).exec();break;case 3:break;default:break}}}};o.default=r}).call(this,s("543d")["default"])}},[["a22f","common/runtime","common/vendor"]]]);