<view><my-message class="vue-ref" vue-id="1" hide data-ref="myMessage" bind:__l="__l"></my-message><view class="{{['my-bar',$config.bgClass]}}" style="{{(topBar.style)}}"><block wx:if="{{modal.name=='my'}}"><view class="action text-xxl" style="width:12%;"></view></block><block wx:else><view data-event-opts="{{[['tap',[['openPopup',['add']]]]]}}" class="action text-xxl" style="width:12%;" bindtap="__e"><text class="cuIcon-add margin-left-sm "></text></view></block><view class="content "><view class="text-cut text-center" style="width:220px;">{{topBar.title}}</view></view><view style="width:12%;"></view></view><view data-event-opts="{{[['tap',[['hidePopup',['$event']]]]]}}" class="{{['cu-modal add-modal',popup.name=='add'?'show':'']}}" bindtap="__e"><view class="cu-dialog" style="{{('margin-top:'+CustomBar+'px')}}"><view class="cu-list menu"><navigator class="cu-item" url="add"><view class="content"><text class="cuIcon-friendadd"></text><text>{{i18n.addFriends}}</text></view></navigator></view></view></view><view><view data-event-opts="{{[['tap',[['test1']]]]}}" class="cu-btn sm bg-red margin-sm" bindtap="__e">添加好友</view><view data-event-opts="{{[['tap',[['test2']]]]}}" class="cu-btn sm bg-red margin-sm" bindtap="__e">清除列表</view><view data-event-opts="{{[['tap',[['test3']]]]}}" class="cu-btn sm bg-red margin-sm" bindtap="__e">按钮3</view><view data-event-opts="{{[['tap',[['test4']]]]}}" class="cu-btn sm bg-red margin-sm" bindtap="__e">按钮4</view><view data-event-opts="{{[['tap',[['test0']]]]}}" class="cu-btn sm bg-red margin-sm" bindtap="__e">按钮0</view></view><block wx:if="{{modal.name=='contacts'}}"><view class="cu-list menu-avatar"><block wx:for="{{contacts.list}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{item.state=='normal'}}"><view data-event-opts="{{[['tap',[['openChat',['$0'],[[['contacts.list','',index,'user.id']]]]]]]}}" class="cu-item contacts-list" bindtap="__e"><view class="cu-avatar round" style="{{'background-image:'+('url('+item.user.avatar+'),url('+$config.cdnUrl+'/assets/img/avatar.png)')+';'}}"></view><view class="content"><view class="text-black text-xl">{{item.user.nickname}}</view></view><view class="action"></view></view></block></block></view></block><block wx:else><block wx:if="{{modal.name=='my'}}"><view data-event-opts="{{[['touchstart',[['ListTouchStart',['$event']]]]]}}" class="cu-list menu-avatar" bindtouchstart="__e"><block wx:for="{{4}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['touchstart',[['test0',[index]]]],['touchmove',[['ListTouchMove',['$event']]]],['touchend',[['ListTouchEnd',['$event']]]]]}}" class="{{['cu-item',index==2?'move-cur':'']}}" style="{{(touch.index==index?touch.style:'transition: all .3s ease-in-out 0s;transform: translateX(0px);')}}" bindtouchstart="__e" bindtouchmove="__e" bindtouchend="__e"><view class="cu-avatar round lg" style="{{'background-image:'+('url(https://ossweb-img.qq.com/images/lol/web201310/skin/big2100'+(index+2)+'.jpg)')+';'}}"></view><view class="content"><view class="text-grey">文晓港</view><view class="text-gray text-sm"><text class="cuIcon-infofill text-red  margin-right-xs"></text>消息未送达</view></view><view class="action"><view class="text-grey text-xs">22:20</view><view class="cu-tag round bg-grey sm">5</view></view><view class="move"><view class="bg-grey">置顶</view><view class="bg-red">删除</view></view></view></block></view></block><block wx:else><view class="cu-list menu-avatar"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['openChat',['$0'],[[['newMessageList','',index,'user.id']]]]]]]}}" class="cu-item" bindtap="__e"><block wx:if="{{item.$orig.user.avatar}}"><view class="cu-avatar round lg" style="{{'background-image:'+('url('+item.$orig.user.avatar+')')+';'}}"></view></block><block wx:else><view class="cu-avatar round lg" style="{{'background-image:'+('url('+$config.cdnUrl+'/assets/img/avatar.png)')+';'}}"></view></block><view class="content"><view class="text-grey">{{item.$orig.user.nickname}}</view><view class="text-gray text-sm tips-value">{{item.$orig.tips.value}}</view></view><view class="action"><view class="text-grey text-xs">{{item.m0}}</view><block wx:if="{{item.$orig.tips.count!=0}}"><view class="cu-tag round bg-red sm">{{item.$orig.tips.count>99?'99+':item.$orig.tips.count}}</view></block></view></view></block><block wx:if="{{!newMessageList.length}}"><view><text class="cuIcon-message icon"></text><text>暂时没有新的消息</text></view></block></view></block></block><view class="cu-bar tabbar bg-white shadow foot"><block wx:for="{{tab.list}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['change',['$0'],[[['tab.list','',index,'name']]]]]]]}}" class="action" bindtap="__e"><view class="{{['text-xxl',tab.route==item.name?base.lessClass+' anim-scale-beat '+item.icons:'text-gray '+item.icon]}}"><block wx:if="{{item.name=='message'&&message.count!=0}}"><view class="cu-tag badge">{{message.count>99?'99+':message.count}}</view></block></view><view class="{{[tab.route==item.name?base.lessClass:'text-gray ']}}" style="margin-top:2px;">{{item.label}}</view></view></block></view></view>