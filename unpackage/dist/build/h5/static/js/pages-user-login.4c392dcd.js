(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-login"],{"09c4":function(t,i,e){"use strict";var a,n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[t.loadModal?e("v-uni-view",{staticClass:"cu-load load-modal moyi-bg-b "},[e("v-uni-image",{attrs:{src:t.base.logo,mode:"aspectFit"}}),e("v-uni-view",{staticClass:"moyi-te-a"},[t._v("登陆中...")])],1):t._e(),e("v-uni-view",{staticClass:"cu-modal",class:"wechat"==t.modalName?"show":"",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.hideModal.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"cu-dialog moyi-bg-b moyi-te-a",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i)}}},[e("v-uni-view",{staticClass:"margin text-xl "},[t._v("微信快捷登陆")]),e("v-uni-view",{staticClass:"flex align-center justify-center text-green",staticStyle:{"font-size":"100rpx"}},[e("v-uni-text",{staticClass:"cuIcon-weixin"}),e("v-uni-text",{staticClass:"text-xl margin margin-right-xl moyi-te-b",staticStyle:{transform:"rotate(90deg)"}},[e("v-uni-text",{staticClass:"cuIcon-order"})],1),e("v-uni-image",{staticClass:"margin-top-sm",staticStyle:{width:"120rpx",height:"120rpx"},attrs:{src:t.base.logo}})],1),e("v-uni-view",{staticClass:"flex margin justify-center"},[e("v-uni-button",{staticClass:"margin cu-btn bg-green radius",attrs:{disabled:!t.wechatPath.code,"open-type":"getUserInfo"},on:{getuserinfo:function(i){arguments[0]=i=t.$handleEvent(i),t.wechatMpLogin.apply(void 0,arguments)}}},[t._v(t._s(t.wechatPath.code?"快捷登陆":"加载中.."))])],1)],1)],1),e("v-uni-view",{staticClass:"moyi-bg-a moyi-te-a",staticStyle:{height:"100vh"}},[e("v-uni-view",{staticStyle:{padding:"20%","text-align":"center"}},[e("v-uni-image",{staticClass:"moyi-bg-a",staticStyle:{width:"150rpx",height:"150rpx"},attrs:{src:t.base.logo,mode:"widthFix"}}),e("v-uni-view",[t._v(t._s(t.base.title))])],1),e("v-uni-swiper",{staticClass:"padding-lr-xl",staticStyle:{height:"50vh"},attrs:{"disable-touch":!0,duration:"500",current:t.indexTab}},[e("v-uni-swiper-item",[e("v-uni-view",{staticClass:"cu-form-group moyi-bg-c moyi-te-c round margin-top-xl  "},[e("v-uni-view",{staticClass:"text-center",staticStyle:{width:"100%"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.wechatBtn()}}},[e("v-uni-text",{staticClass:"cuIcon-weixin text-xl padding-right-sm"}),t._v("微信快速登陆")],1)],1),e("v-uni-view",{staticClass:"cu-form-group moyi-bg-c moyi-te-c round margin-top-xl",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.Toggle(1)}}},[e("v-uni-view",{staticClass:"text-center",staticStyle:{width:"100%"}},[t._v("账号密码登陆")])],1),e("v-uni-view",{staticClass:"padding text-center margin-lr text-sm "},[e("v-uni-view",{staticClass:"inline-shrink",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.Toggle(0)}}},[t._v("登陆即代表同意"),e("v-uni-text",{staticClass:"text-yellow",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.navigateTo("/pages/cms/index?id=1&title=用户协议")}}},[t._v("《用户协议》")]),t._v("以及"),e("v-uni-text",{staticClass:"text-yellow",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.navigateTo("/pages/cms/index?id=2&title=隐私政策")}}},[t._v("《隐私政策》")])],1)],1)],1),e("v-uni-swiper-item",[e("v-uni-view",{staticClass:"cu-form-group moyi-bg-b round"},[e("v-uni-view",{staticClass:"title"},[t._v("账号:")]),e("v-uni-input",{staticClass:"text-right",attrs:{placeholder:"请输入ID或手机号"},model:{value:t.param.account,callback:function(i){t.$set(t.param,"account",i)},expression:"param.account"}})],1),e("v-uni-view",{staticClass:"cu-form-group moyi-bg-b round margin-top-xl"},[e("v-uni-view",{staticClass:"title"},[t._v("密码:")]),e("v-uni-input",{staticClass:"text-right",attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.param.password,callback:function(i){t.$set(t.param,"password",i)},expression:"param.password"}})],1),e("v-uni-view",{staticClass:"cu-form-group moyi-bg-c moyi-te-c round margin-top-xl",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.login.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"text-center",staticStyle:{width:"100%"}},[t._v("登陆")])],1),e("v-uni-view",{staticClass:"padding text-center margin-lr text-sm "},[e("v-uni-view",{staticClass:"inline-shrink",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.Toggle(0)}}},[t._v("返回")])],1)],1),e("v-uni-swiper-item",[e("v-uni-view",{staticClass:"cu-form-group moyi-bg-b round"},[e("v-uni-view",{staticClass:"title"},[t._v("手机号码:")]),e("v-uni-input",{staticClass:"text-right",attrs:{placeholder:"请输入ID或手机号"},model:{value:t.param.account,callback:function(i){t.$set(t.param,"account",i)},expression:"param.account"}})],1),e("v-uni-view",{staticClass:"cu-form-group moyi-bg-b round margin-top-xl"},[e("v-uni-view",{staticClass:"title"},[t._v("验证码:")]),e("v-uni-input",{staticClass:"text-right",attrs:{type:"password",placeholder:"验证码"},model:{value:t.param.password,callback:function(i){t.$set(t.param,"password",i)},expression:"param.password"}}),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.verifyTime,expression:"!verifyTime"}],staticClass:"cu-btn radius moyi-bg-b text-white",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.getCaptcha.apply(void 0,arguments)}}},[t._v("发送验证码")]),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.verifyTime,expression:"verifyTime"}],staticClass:"cu-btn moyi-bg-b radius"},[t._v(t._s(t.verifyTime)+"秒后重试")])],1),e("v-uni-view",{staticClass:"cu-form-group moyi-bg-c moyi-te-c round margin-top-xl",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.login.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"text-center",staticStyle:{width:"100%"}},[t._v("注册/登陆")])],1),e("v-uni-view",{staticClass:"padding text-center margin-lr text-sm "},[e("v-uni-view",{staticClass:"inline-shrink",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.Toggle(0)}}},[t._v("返回")])],1)],1)],1)],1)],1)},o=[];e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return o})),e.d(i,"a",(function(){return a}))},"30a2":function(t,i,e){"use strict";e.r(i);var a=e("09c4"),n=e("d25e");for(var o in n)"default"!==o&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("e62c");var s,c=e("f0c5"),l=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"0bcde088",null,!1,a["a"],s);i["default"]=l.exports},"477e":function(t,i,e){var a=e("9ecf");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("6fe941bb",a,!0,{sourceMap:!1,shadowMode:!1})},"70e4":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={data:function(){return{base:{title:this.$config.title,logo:this.$config.logo},verifyTime:0,loadModal:!1,modalName:"",indexTab:1,isRotate:!1,param:{account:"admin",password:"123456",mobile:"17080057443",captcha:"1111"},wechatPath:{encryptedData:"",iv:"",code:!1}}},methods:{wechatBtn:function(){this.modalName="wechat"},wechatMpLogin:function(t){this.loadModal=!0;var i=this,e=i.modalName;i.modalName="",i.wechatPath.iv=t.detail.iv,i.wechatPath.encryptedData=t.detail.encryptedData,i.$api.wechatLogin(i.wechatPath,(function(t){t.code?(i.$common.saveUserInfo(t.data),i.loginSuccess()):(i.$common.errorToShow(t.msg),i.hideModal(),i.modalName=e,i.getCode())}))},getCode:function(){var t=this;uni.login({success:function(i){console.log("wechatPath",i),i.code?t.wechatPath.code=i.code:t.$common.errorToShow("用户未授权code")},fail:function(i){t.$common.errorToShow("用户授权失败")}})},hideModal:function(){this.loadModal=null,this.modalName=null},navigateTo:function(t){uni.navigateTo({url:t})},loginSuccess:function(){setTimeout((function(){uni.reLaunch({url:"/pages/app/indexs"})}),1e3)},Toggle:function(t){console.log("test"),this.indexTab=t},login:function(){var t=this;""==this.param.account||this.param.password.length<6?this.$common.errorToShow("账号或密码错误"):(this.loadModal=!0,setTimeout((function(){t.$api.login(t.param,(function(i){t.$common.errorToShow(i.msg),i.code&&(t.$common.saveUserInfo(i.data),t.loginSuccess())}),(function(){t.loadModal=!1}))}),1e3))}},onLoad:function(){console.log("onLoad")}};i.default=a},"9ecf":function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,".login-bg[data-v-0bcde088]{width:100%;height:100%;position:absolute}.list_content[data-v-0bcde088]{width:100%;height:100%;bottom:20%}.swiper-content[data-v-0bcde088]{bottom:0;position:absolute;width:100%}",""]),t.exports=i},d25e:function(t,i,e){"use strict";e.r(i);var a=e("70e4"),n=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},e62c:function(t,i,e){"use strict";var a=e("477e"),n=e.n(a);n.a}}]);