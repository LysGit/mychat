(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-changemobile"],{"0cb8":function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"moyi-bg-a"},[i("cu-custom",{attrs:{bgColor:"bg-black",isAbs:!0,isBack:!0}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),i("template",{attrs:{slot:"content"},slot:"content"},[t._v("修改手机")])],2),i("v-uni-view",{staticClass:"moyi-bg-a moyi-te-a",staticStyle:{height:"100vh"},style:"padding-top:"+t.base.CustomBar+"px"},[i("v-uni-view",{staticClass:"cu-form-group text-center grid col-1 "},[i("v-uni-view",{staticClass:"align-center padding-tb"},[i("v-uni-view",{staticClass:"cu-avatar round xxl",style:"background-image:url("+t.user.avatar+");"},[i("v-uni-image",{attrs:{src:t.user.frame,mode:"widthFix"}})],1)],1)],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("旧手机号码")]),i("v-uni-input",{staticClass:"text-right",attrs:{placeholder:"未绑定留空即可"},model:{value:t.path.oldMobile,callback:function(e){t.$set(t.path,"oldMobile",e)},expression:"path.oldMobile"}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("新手机号码")]),i("v-uni-input",{staticClass:"text-right",model:{value:t.path.newMobile,callback:function(e){t.$set(t.path,"newMobile",e)},expression:"path.newMobile"}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("验证码")]),i("v-uni-input",{staticClass:"text-center text-right",attrs:{type:"number",placeholder:"4位验证码",name:"input"},model:{value:t.path.captcha,callback:function(e){t.$set(t.path,"captcha",e)},expression:"path.captcha"}}),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:!t.verifyTime,expression:"!verifyTime"}],staticClass:"cu-btn radius moyi-bg-b text-white",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCaptcha.apply(void 0,arguments)}}},[t._v("发送验证码")]),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.verifyTime,expression:"verifyTime"}],staticClass:"cu-btn moyi-bg-b radius"},[t._v(t._s(t.verifyTime)+"秒后重试")])],1)],1),i("v-uni-view",{staticClass:"bottom-card"},[i("v-uni-view",{staticClass:"cu-btn moyi-bg-c radius",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.subMobile()}}},[i("v-uni-text",{staticClass:"padding-tb-sm"},[t._v("修改手机")])],1)],1)],1)},o=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}))},"262d":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{base:{avatar:this.$config.avatar,CustomBar:this.CustomBar,title:this.$config.title},verifyTime:0,switchC:"",user:this.$common.userInfo(),path:{oldMobile:"",newMobile:"",captcha:"",event:"changemobile",data:""}}},onLoad:function(){},methods:{subMobile:function(){var t=this;4!=t.path.captcha.length?t.$common.errorToShow("验证码不正确"):t.$common.testString(t.path.newMobile,"mobile")?t.$api.changeMobile(t.path,(function(e){e.code?(t.$common.errorToShow(e.msg),setTimeout((function(){uni.navigateBack({})}),900)):t.$common.errorToShow(e.msg)})):t.$common.errorToShow("手机号码不正确")},getCaptcha:function(){var t=this;t.$common.testString(t.path.newMobile,"mobile")?(uni.showLoading({title:"请稍后"}),t.$api.sendBindMobileCaptcha(t.path,(function(e){e.code?(t.verifyTime=60,t.countDown(),uni.hideLoading()):t.$common.errorToShow(e.msg)}))):t.$common.errorToShow("手机号码不正确")},countDown:function(){var t=this,e=setInterval((function(){t.verifyTime--,uni.setStorage({key:"timer",data:t.verifyTime,success:function(){}}),t.verifyTime<=0&&clearInterval(e)}),1e3)}}};e.default=a},"4ab8":function(t,e,i){"use strict";i.r(e);var a=i("0cb8"),n=i("eda7");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);var s,c=i("f0c5"),r=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"bc4bd8ea",null,!1,a["a"],s);e["default"]=r.exports},eda7:function(t,e,i){"use strict";i.r(e);var a=i("262d"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a}}]);